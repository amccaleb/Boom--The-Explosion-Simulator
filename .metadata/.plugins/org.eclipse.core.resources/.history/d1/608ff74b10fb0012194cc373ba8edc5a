/**
 * Alexander McCaleb
 * CMPS 179 - Summer 2013
 * Boom -- The Explosion Simulator
 *
 * SDModel.js
 *
 * Represents a System Dynamics model as described by Jay Forrester
 * Note: This is a more general take on a Stock/Flow diagram
 *
 */

/**
 * Default Constructor
 * Takes in a name
 * Creates a list of valves attached to it
 * as well as the sum of the attached valves
 */
var SDLevel = function(name)
{
	this.name = name;
	this.valves = [];
	this.value = 0;
};

/**
 * Updates the value of this level by summing all attached valves 
 */
SDLevel.prototype.update = function()
{
	var that = this;
	
	// Reset our value
	this.value = 0;
	
	// Now sum the influence of all valves
	_.each(this.valves, function(element, index) {
		that.value += element.value;
	});
};